<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Diligent Engine: Diligent::ResourceReleaseQueue&lt; ResourceWrapperType &gt; Class Template Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Diligent Engine
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d1/df2/classDiligent_1_1ResourceReleaseQueue.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../d1/d0f/classDiligent_1_1ResourceReleaseQueue-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Diligent::ResourceReleaseQueue&lt; ResourceWrapperType &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Facilitates safe resource destruction in D3D12 and Vulkan.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;ResourceReleaseQueue.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae4c6a550fc3837274e102ec186b2a2e5" id="r_ae4c6a550fc3837274e102ec186b2a2e5"><td class="memTemplParams" colspan="2">template&lt;typename ResourceType, typename = typename std::enable_if&lt;std::is_object&lt;ResourceType&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:ae4c6a550fc3837274e102ec186b2a2e5"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ae4c6a550fc3837274e102ec186b2a2e5">SafeReleaseResource</a> (ResourceType &amp;&amp;Resource, <a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a> NextCommandListNumber)</td></tr>
<tr class="memdesc:ae4c6a550fc3837274e102ec186b2a2e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves a resource to the stale resources queue.  <br /></td></tr>
<tr class="separator:ae4c6a550fc3837274e102ec186b2a2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b302655c45dcd22b3c8d13bca734bcb" id="r_a4b302655c45dcd22b3c8d13bca734bcb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b302655c45dcd22b3c8d13bca734bcb">SafeReleaseResource</a> (ResourceWrapperType &amp;&amp;Wrapper, <a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a> NextCommandListNumber)</td></tr>
<tr class="memdesc:a4b302655c45dcd22b3c8d13bca734bcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves a resource wrapper to the stale resources queue.  <br /></td></tr>
<tr class="separator:a4b302655c45dcd22b3c8d13bca734bcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5967dffe48ec6a7c0ed0eb6e8c7f6ad7" id="r_a5967dffe48ec6a7c0ed0eb6e8c7f6ad7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5967dffe48ec6a7c0ed0eb6e8c7f6ad7">SafeReleaseResource</a> (const ResourceWrapperType &amp;Wrapper, <a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a> NextCommandListNumber)</td></tr>
<tr class="memdesc:a5967dffe48ec6a7c0ed0eb6e8c7f6ad7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves a copy of the resource wrapper to the stale resources queue.  <br /></td></tr>
<tr class="separator:a5967dffe48ec6a7c0ed0eb6e8c7f6ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac277a8a6a9a0a1362008301df742e438" id="r_ac277a8a6a9a0a1362008301df742e438"><td class="memTemplParams" colspan="2">template&lt;typename ResourceType, typename = typename std::enable_if&lt;std::is_object&lt;ResourceType&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:ac277a8a6a9a0a1362008301df742e438"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#ac277a8a6a9a0a1362008301df742e438">DiscardResource</a> (ResourceType &amp;&amp;Resource, <a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a> FenceValue)</td></tr>
<tr class="memdesc:ac277a8a6a9a0a1362008301df742e438"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a resource directly to the release queue.  <br /></td></tr>
<tr class="separator:ac277a8a6a9a0a1362008301df742e438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3821ca0333e52af0d76528881f8c0b1d" id="r_a3821ca0333e52af0d76528881f8c0b1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3821ca0333e52af0d76528881f8c0b1d">DiscardResource</a> (ResourceWrapperType &amp;&amp;Wrapper, <a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a> FenceValue)</td></tr>
<tr class="memdesc:a3821ca0333e52af0d76528881f8c0b1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a resource wrapper directly to the release queue.  <br /></td></tr>
<tr class="separator:a3821ca0333e52af0d76528881f8c0b1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a769a4de747c25604c8aa190ce19b0db8" id="r_a769a4de747c25604c8aa190ce19b0db8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a769a4de747c25604c8aa190ce19b0db8">DiscardResource</a> (const ResourceWrapperType &amp;Wrapper, <a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a> FenceValue)</td></tr>
<tr class="memdesc:a769a4de747c25604c8aa190ce19b0db8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a copy of the resource wrapper directly to the release queue.  <br /></td></tr>
<tr class="separator:a769a4de747c25604c8aa190ce19b0db8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67e75eb5f8da73f677903b182f22b5c1" id="r_a67e75eb5f8da73f677903b182f22b5c1"><td class="memTemplParams" colspan="2">template&lt;typename ResourceType, typename IteratorType&gt; </td></tr>
<tr class="memitem:a67e75eb5f8da73f677903b182f22b5c1"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a67e75eb5f8da73f677903b182f22b5c1">DiscardResources</a> (<a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a> FenceValue, IteratorType Iterator)</td></tr>
<tr class="memdesc:a67e75eb5f8da73f677903b182f22b5c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds multiple resources directly to the release queue.  <br /></td></tr>
<tr class="separator:a67e75eb5f8da73f677903b182f22b5c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a921c58dd47e99889b7b37cd5cae0adb9" id="r_a921c58dd47e99889b7b37cd5cae0adb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a921c58dd47e99889b7b37cd5cae0adb9">DiscardStaleResources</a> (<a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a> SubmittedCmdBuffNumber, <a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a> FenceValue)</td></tr>
<tr class="memdesc:a921c58dd47e99889b7b37cd5cae0adb9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Moves stale objects to the release queue.  <br /></td></tr>
<tr class="separator:a921c58dd47e99889b7b37cd5cae0adb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06205ab79919285a35198d05bcb300f2" id="r_a06205ab79919285a35198d05bcb300f2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a06205ab79919285a35198d05bcb300f2">Purge</a> (<a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a> CompletedFenceValue)</td></tr>
<tr class="separator:a06205ab79919285a35198d05bcb300f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7099a7948234ea915fa37865961dcfe4" id="r_a7099a7948234ea915fa37865961dcfe4"><td class="memItemLeft" align="right" valign="top"><a id="a7099a7948234ea915fa37865961dcfe4" name="a7099a7948234ea915fa37865961dcfe4"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetStaleResourceCount</b> () const</td></tr>
<tr class="memdesc:a7099a7948234ea915fa37865961dcfe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of stale resources. <br /></td></tr>
<tr class="separator:a7099a7948234ea915fa37865961dcfe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5316840f3b1f561427eed99c39809f6" id="r_ab5316840f3b1f561427eed99c39809f6"><td class="memItemLeft" align="right" valign="top"><a id="ab5316840f3b1f561427eed99c39809f6" name="ab5316840f3b1f561427eed99c39809f6"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><b>GetPendingReleaseResourceCount</b> () const</td></tr>
<tr class="memdesc:ab5316840f3b1f561427eed99c39809f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of resources pending release. <br /></td></tr>
<tr class="separator:ab5316840f3b1f561427eed99c39809f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a551f137c523fb31fd7dcf6c998699a05" id="r_a551f137c523fb31fd7dcf6c998699a05"><td class="memTemplParams" colspan="2">template&lt;typename ResourceType, typename = typename std::enable_if&lt;std::is_object&lt;ResourceType&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:a551f137c523fb31fd7dcf6c998699a05"><td class="memTemplItemLeft" align="right" valign="top">static ResourceWrapperType&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="#a551f137c523fb31fd7dcf6c998699a05">CreateWrapper</a> (ResourceType &amp;&amp;Resource, typename ResourceWrapperType::RefCounterType NumReferences)</td></tr>
<tr class="memdesc:a551f137c523fb31fd7dcf6c998699a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a resource wrapper for the specific resource type.  <br /></td></tr>
<tr class="separator:a551f137c523fb31fd7dcf6c998699a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;typename ResourceWrapperType&gt;<br />
class Diligent::ResourceReleaseQueue&lt; ResourceWrapperType &gt;</div><p>Facilitates safe resource destruction in D3D12 and Vulkan. </p>
<p>Resource destruction is a two-stage process:</p><ul>
<li>When resource is released, it is moved into the stale objects queue along with the next command list number</li>
<li>When command list is submitted to the command queue, all stale objects associated with this and earlier command lists are moved to the release queue, along with the fence value associated with the command list</li>
<li>Resources are removed and actually destroyed from the queue when fence is signaled and the queue is purged</li>
</ul>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ResourceWrapperType</td><td>- Type of the resource wrapper used by the release queue. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a551f137c523fb31fd7dcf6c998699a05" name="a551f137c523fb31fd7dcf6c998699a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a551f137c523fb31fd7dcf6c998699a05">&#9670;&#160;</a></span>CreateWrapper()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ResourceWrapperType&gt; </div>
<div class="memtemplate">
template&lt;typename ResourceType, typename = typename std::enable_if&lt;std::is_object&lt;ResourceType&gt;::value&gt;::type&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ResourceWrapperType <a class="el" href="../../d1/df2/classDiligent_1_1ResourceReleaseQueue.html">Diligent::ResourceReleaseQueue</a>&lt; ResourceWrapperType &gt;::CreateWrapper </td>
          <td>(</td>
          <td class="paramtype">ResourceType &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>Resource</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename ResourceWrapperType::RefCounterType</td>          <td class="paramname"><span class="paramname"><em>NumReferences</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel static">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a resource wrapper for the specific resource type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Resource</td><td>- Resource to be released </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NumReferences</td><td>- Number of references to the resource </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a769a4de747c25604c8aa190ce19b0db8" name="a769a4de747c25604c8aa190ce19b0db8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a769a4de747c25604c8aa190ce19b0db8">&#9670;&#160;</a></span>DiscardResource() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ResourceWrapperType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/df2/classDiligent_1_1ResourceReleaseQueue.html">Diligent::ResourceReleaseQueue</a>&lt; ResourceWrapperType &gt;::DiscardResource </td>
          <td>(</td>
          <td class="paramtype">const ResourceWrapperType &amp;</td>          <td class="paramname"><span class="paramname"><em>Wrapper</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a></td>          <td class="paramname"><span class="paramname"><em>FenceValue</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a copy of the resource wrapper directly to the release queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Wrapper</td><td>- Resource wrapper containing the resource to be released. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FenceValue</td><td>- Fence value indicating when the resource was used last time. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac277a8a6a9a0a1362008301df742e438" name="ac277a8a6a9a0a1362008301df742e438"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac277a8a6a9a0a1362008301df742e438">&#9670;&#160;</a></span>DiscardResource() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ResourceWrapperType&gt; </div>
<div class="memtemplate">
template&lt;typename ResourceType, typename = typename std::enable_if&lt;std::is_object&lt;ResourceType&gt;::value&gt;::type&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/df2/classDiligent_1_1ResourceReleaseQueue.html">Diligent::ResourceReleaseQueue</a>&lt; ResourceWrapperType &gt;::DiscardResource </td>
          <td>(</td>
          <td class="paramtype">ResourceType &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>Resource</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a></td>          <td class="paramname"><span class="paramname"><em>FenceValue</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a resource directly to the release queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Resource</td><td>- Resource to be released. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FenceValue</td><td>- Fence value indicating when the resource was used last time. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3821ca0333e52af0d76528881f8c0b1d" name="a3821ca0333e52af0d76528881f8c0b1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3821ca0333e52af0d76528881f8c0b1d">&#9670;&#160;</a></span>DiscardResource() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ResourceWrapperType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/df2/classDiligent_1_1ResourceReleaseQueue.html">Diligent::ResourceReleaseQueue</a>&lt; ResourceWrapperType &gt;::DiscardResource </td>
          <td>(</td>
          <td class="paramtype">ResourceWrapperType &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>Wrapper</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a></td>          <td class="paramname"><span class="paramname"><em>FenceValue</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds a resource wrapper directly to the release queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Wrapper</td><td>- Resource wrapper containing the resource to be released. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FenceValue</td><td>- Fence value indicating when the resource was used last time. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a67e75eb5f8da73f677903b182f22b5c1" name="a67e75eb5f8da73f677903b182f22b5c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67e75eb5f8da73f677903b182f22b5c1">&#9670;&#160;</a></span>DiscardResources()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ResourceWrapperType&gt; </div>
<div class="memtemplate">
template&lt;typename ResourceType, typename IteratorType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/df2/classDiligent_1_1ResourceReleaseQueue.html">Diligent::ResourceReleaseQueue</a>&lt; ResourceWrapperType &gt;::DiscardResources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a></td>          <td class="paramname"><span class="paramname"><em>FenceValue</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IteratorType</td>          <td class="paramname"><span class="paramname"><em>Iterator</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds multiple resources directly to the release queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">FenceValue</td><td>- Fence value indicating when the resource was used last time. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">Iterator</td><td>- Iterator that returns resources to be released. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a921c58dd47e99889b7b37cd5cae0adb9" name="a921c58dd47e99889b7b37cd5cae0adb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a921c58dd47e99889b7b37cd5cae0adb9">&#9670;&#160;</a></span>DiscardStaleResources()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ResourceWrapperType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/df2/classDiligent_1_1ResourceReleaseQueue.html">Diligent::ResourceReleaseQueue</a>&lt; ResourceWrapperType &gt;::DiscardStaleResources </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a></td>          <td class="paramname"><span class="paramname"><em>SubmittedCmdBuffNumber</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a></td>          <td class="paramname"><span class="paramname"><em>FenceValue</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves stale objects to the release queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">SubmittedCmdBuffNumber</td><td>- number of the last submitted command list. All resources in the stale object list whose command list number is less than or equal to this value are moved to the release queue. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">FenceValue</td><td>- Fence value associated with the resources moved to the release queue. A resource will be destroyed by <a class="el" href="#a06205ab79919285a35198d05bcb300f2">Purge()</a> method when completed fence value is greater or equal to the fence value associated with the resource </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a06205ab79919285a35198d05bcb300f2" name="a06205ab79919285a35198d05bcb300f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06205ab79919285a35198d05bcb300f2">&#9670;&#160;</a></span>Purge()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ResourceWrapperType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/df2/classDiligent_1_1ResourceReleaseQueue.html">Diligent::ResourceReleaseQueue</a>&lt; ResourceWrapperType &gt;::Purge </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a></td>          <td class="paramname"><span class="paramname"><em>CompletedFenceValue</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Removes all objects from the release queue whose fence value is less than or equal to CompletedFenceValue</p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">CompletedFenceValue</td><td>- Value of the fence that has been completed by the GPU </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5967dffe48ec6a7c0ed0eb6e8c7f6ad7" name="a5967dffe48ec6a7c0ed0eb6e8c7f6ad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5967dffe48ec6a7c0ed0eb6e8c7f6ad7">&#9670;&#160;</a></span>SafeReleaseResource() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ResourceWrapperType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/df2/classDiligent_1_1ResourceReleaseQueue.html">Diligent::ResourceReleaseQueue</a>&lt; ResourceWrapperType &gt;::SafeReleaseResource </td>
          <td>(</td>
          <td class="paramtype">const ResourceWrapperType &amp;</td>          <td class="paramname"><span class="paramname"><em>Wrapper</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a></td>          <td class="paramname"><span class="paramname"><em>NextCommandListNumber</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves a copy of the resource wrapper to the stale resources queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Wrapper</td><td>- Resource wrapper containing the resource to be released </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NextCommandListNumber</td><td>- Number of the command list that will be submitted to the queue next </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae4c6a550fc3837274e102ec186b2a2e5" name="ae4c6a550fc3837274e102ec186b2a2e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4c6a550fc3837274e102ec186b2a2e5">&#9670;&#160;</a></span>SafeReleaseResource() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ResourceWrapperType&gt; </div>
<div class="memtemplate">
template&lt;typename ResourceType, typename = typename std::enable_if&lt;std::is_object&lt;ResourceType&gt;::value&gt;::type&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/df2/classDiligent_1_1ResourceReleaseQueue.html">Diligent::ResourceReleaseQueue</a>&lt; ResourceWrapperType &gt;::SafeReleaseResource </td>
          <td>(</td>
          <td class="paramtype">ResourceType &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>Resource</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a></td>          <td class="paramname"><span class="paramname"><em>NextCommandListNumber</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves a resource to the stale resources queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Resource</td><td>- Resource to be released </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NextCommandListNumber</td><td>- Number of the command list that will be submitted to the queue next </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4b302655c45dcd22b3c8d13bca734bcb" name="a4b302655c45dcd22b3c8d13bca734bcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b302655c45dcd22b3c8d13bca734bcb">&#9670;&#160;</a></span>SafeReleaseResource() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ResourceWrapperType&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d1/df2/classDiligent_1_1ResourceReleaseQueue.html">Diligent::ResourceReleaseQueue</a>&lt; ResourceWrapperType &gt;::SafeReleaseResource </td>
          <td>(</td>
          <td class="paramtype">ResourceWrapperType &amp;&amp;</td>          <td class="paramname"><span class="paramname"><em>Wrapper</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/dca/namespaceDiligent.html#a217aba875c8d4bd7843939762d6ff492">Uint64</a></td>          <td class="paramname"><span class="paramname"><em>NextCommandListNumber</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Moves a resource wrapper to the stale resources queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">Wrapper</td><td>- Resource wrapper containing the resource to be released </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">NextCommandListNumber</td><td>- Number of the command list that will be submitted to the queue next </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d7/dca/namespaceDiligent.html">Diligent</a></li><li class="navelem"><a class="el" href="../../d1/df2/classDiligent_1_1ResourceReleaseQueue.html">ResourceReleaseQueue</a></li>
    <li class="footer">
      <a href="https://diligentgraphics.com">
        <img class="footer" src="https://github.com/DiligentGraphics/DiligentCore/raw/master/media/diligentgraphics-logo.png" width="99" height="32" alt="Diligent Graphics" />
      </a>
    </li>
  </ul>
</div>
</body>
</html>
