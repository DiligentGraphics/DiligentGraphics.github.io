<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Diligent Engine: Diligent::IReferenceCounters Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Diligent Engine
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d3/d05/classDiligent_1_1IReferenceCounters.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../d9/de0/classDiligent_1_1IReferenceCounters-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Diligent::IReferenceCounters Class Reference<span class="mlabels"><span class="mlabel abstract">abstract</span></span></div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;ReferenceCounters.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aedc4826bf9a63030496a23b7dec1d664" id="r_aedc4826bf9a63030496a23b7dec1d664"><td class="memItemLeft" align="right" valign="top">virtual ReferenceCounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aedc4826bf9a63030496a23b7dec1d664">AddStrongRef</a> ()=0</td></tr>
<tr class="memdesc:aedc4826bf9a63030496a23b7dec1d664"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the number of strong references by 1.  <br /></td></tr>
<tr class="separator:aedc4826bf9a63030496a23b7dec1d664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d4b66e4aef05f728368a2d0efb0c393" id="r_a1d4b66e4aef05f728368a2d0efb0c393"><td class="memItemLeft" align="right" valign="top">virtual ReferenceCounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1d4b66e4aef05f728368a2d0efb0c393">ReleaseStrongRef</a> ()=0</td></tr>
<tr class="separator:a1d4b66e4aef05f728368a2d0efb0c393"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a243d095590723cb88b3c4013aa497365" id="r_a243d095590723cb88b3c4013aa497365"><td class="memItemLeft" align="right" valign="top">virtual ReferenceCounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a243d095590723cb88b3c4013aa497365">AddWeakRef</a> ()=0</td></tr>
<tr class="memdesc:a243d095590723cb88b3c4013aa497365"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increments the number of weak references by 1.  <br /></td></tr>
<tr class="separator:a243d095590723cb88b3c4013aa497365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a5a9f0e5a20d5ecb6c8444b0cefb0d8" id="r_a0a5a9f0e5a20d5ecb6c8444b0cefb0d8"><td class="memItemLeft" align="right" valign="top">virtual ReferenceCounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0a5a9f0e5a20d5ecb6c8444b0cefb0d8">ReleaseWeakRef</a> ()=0</td></tr>
<tr class="separator:a0a5a9f0e5a20d5ecb6c8444b0cefb0d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a355e9616027ff8ed09cbc682c3210039" id="r_a355e9616027ff8ed09cbc682c3210039"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a355e9616027ff8ed09cbc682c3210039">QueryObject</a> (struct <a class="el" href="../../db/dce/interfaceDiligent_1_1IObject.html">IObject</a> **ppObject)=0</td></tr>
<tr class="memdesc:a355e9616027ff8ed09cbc682c3210039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queries a pointer to the IUnknown interface of the referenced object.  <br /></td></tr>
<tr class="separator:a355e9616027ff8ed09cbc682c3210039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0414c9c5b9075525887db79d847a04aa" id="r_a0414c9c5b9075525887db79d847a04aa"><td class="memItemLeft" align="right" valign="top">virtual ReferenceCounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a0414c9c5b9075525887db79d847a04aa">GetNumStrongRefs</a> () const =0</td></tr>
<tr class="memdesc:a0414c9c5b9075525887db79d847a04aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of outstanding strong references.  <br /></td></tr>
<tr class="separator:a0414c9c5b9075525887db79d847a04aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e631d633e67c0cdee46ddcf4d264e6" id="r_a20e631d633e67c0cdee46ddcf4d264e6"><td class="memItemLeft" align="right" valign="top">virtual ReferenceCounterValueType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a20e631d633e67c0cdee46ddcf4d264e6">GetNumWeakRefs</a> () const =0</td></tr>
<tr class="memdesc:a20e631d633e67c0cdee46ddcf4d264e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of outstanding weak references.  <br /></td></tr>
<tr class="separator:a20e631d633e67c0cdee46ddcf4d264e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base interface for a reference counter object that stores the number of strong and weak references and the pointer to the object. It is necessary to separate reference counters from the object to support weak pointers. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aedc4826bf9a63030496a23b7dec1d664" name="aedc4826bf9a63030496a23b7dec1d664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedc4826bf9a63030496a23b7dec1d664">&#9670;&#160;</a></span>AddStrongRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ReferenceCounterValueType Diligent::IReferenceCounters::AddStrongRef </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments the number of strong references by 1. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of strong references after incrementing the counter. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The method is thread-safe and does not require explicit synchronization. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. </dd></dl>

</div>
</div>
<a id="a243d095590723cb88b3c4013aa497365" name="a243d095590723cb88b3c4013aa497365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a243d095590723cb88b3c4013aa497365">&#9670;&#160;</a></span>AddWeakRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ReferenceCounterValueType Diligent::IReferenceCounters::AddWeakRef </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increments the number of weak references by 1. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of weak references after incrementing the counter. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The method is thread-safe and does not require explicit synchronization. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. </dd></dl>

</div>
</div>
<a id="a0414c9c5b9075525887db79d847a04aa" name="a0414c9c5b9075525887db79d847a04aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0414c9c5b9075525887db79d847a04aa">&#9670;&#160;</a></span>GetNumStrongRefs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ReferenceCounterValueType Diligent::IReferenceCounters::GetNumStrongRefs </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of outstanding strong references. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of strong references. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. The only reliable value is 0 as the object is destroyed when the last strong reference is released. </dd></dl>

</div>
</div>
<a id="a20e631d633e67c0cdee46ddcf4d264e6" name="a20e631d633e67c0cdee46ddcf4d264e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20e631d633e67c0cdee46ddcf4d264e6">&#9670;&#160;</a></span>GetNumWeakRefs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ReferenceCounterValueType Diligent::IReferenceCounters::GetNumWeakRefs </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of outstanding weak references. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of weak references. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. </dd></dl>

</div>
</div>
<a id="a355e9616027ff8ed09cbc682c3210039" name="a355e9616027ff8ed09cbc682c3210039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a355e9616027ff8ed09cbc682c3210039">&#9670;&#160;</a></span>QueryObject()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Diligent::IReferenceCounters::QueryObject </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="../../db/dce/interfaceDiligent_1_1IObject.html">IObject</a> **</td>          <td class="paramname"><span class="paramname"><em>ppObject</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queries a pointer to the IUnknown interface of the referenced object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">ppObject</td><td>- Memory address where the pointer to the object will be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section remark"><dt>Remarks</dt><dd>If the object was destroyed, nullptr will be written to *ppObject. If the object was not released, the pointer to the object's IUnknown interface will be stored. In this case, the number of strong references to the object will be incremented by 1.<br  />
 The method is thread-safe and does not require explicit synchronization. </dd></dl>

</div>
</div>
<a id="a1d4b66e4aef05f728368a2d0efb0c393" name="a1d4b66e4aef05f728368a2d0efb0c393"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d4b66e4aef05f728368a2d0efb0c393">&#9670;&#160;</a></span>ReleaseStrongRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ReferenceCounterValueType Diligent::IReferenceCounters::ReleaseStrongRef </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Decrements the number of strong references by 1 and destroys the referenced object when the counter reaches zero. If there are no more weak references, destroys the reference counters object itself. </p><dl class="section return"><dt>Returns</dt><dd>The number of strong references after decrementing the counter. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The referenced object is destroyed when the last strong reference is released.<br  />
 If there are no more weak references, the reference counters object itself is also destroyed.<br  />
 The method is thread-safe and does not require explicit synchronization. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. The only reliable value is 0 as the object is destroyed when the last strong reference is released. </dd></dl>

</div>
</div>
<a id="a0a5a9f0e5a20d5ecb6c8444b0cefb0d8" name="a0a5a9f0e5a20d5ecb6c8444b0cefb0d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a5a9f0e5a20d5ecb6c8444b0cefb0d8">&#9670;&#160;</a></span>ReleaseWeakRef()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual ReferenceCounterValueType Diligent::IReferenceCounters::ReleaseWeakRef </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel pure-virtual">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Decrements the number of weak references by 1. If there are no more strong and weak references, destroys the reference counters object itself. </p><dl class="section return"><dt>Returns</dt><dd>The number of weak references after decrementing the counter. </dd></dl>
<dl class="section remark"><dt>Remarks</dt><dd>The method is thread-safe and does not require explicit synchronization. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>In a multithreaded environment, the returned number may not be reliable as other threads may simultaneously change the actual value of the counter. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d7/dca/namespaceDiligent.html">Diligent</a></li><li class="navelem"><a class="el" href="../../d3/d05/classDiligent_1_1IReferenceCounters.html">IReferenceCounters</a></li>
    <li class="footer">
      <a href="https://diligentgraphics.com">
        <img class="footer" src="https://github.com/DiligentGraphics/DiligentCore/raw/master/media/diligentgraphics-logo.png" width="99" height="32" alt="Diligent Graphics" />
      </a>
    </li>
  </ul>
</div>
</body>
</html>
