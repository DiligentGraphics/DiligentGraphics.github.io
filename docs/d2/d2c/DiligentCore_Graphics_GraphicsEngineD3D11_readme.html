<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Diligent Engine: Graphics Engine D3D11</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Diligent Engine
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d2/d2c/DiligentCore_Graphics_GraphicsEngineD3D11_readme.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Graphics Engine D3D11</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Implementation of Direct3D11 backend</p>
<h2><a class="anchor" id="autotoc_md58"></a>
Interoperability with Direct3D11</h2>
<p><a class="el" href="../../d7/dca/namespaceDiligent.html" title="Graphics engine namespace.">Diligent</a> Engine exposes methods to access internal D3D11 objects, is able to create diligent engine buffers and textures from existing Direct3D11 buffers and textures, and can be initialized by attaching to existing D3D11 device and immediate context.</p>
<h3><a class="anchor" id="autotoc_md59"></a>
Accessing Native Direct3D11 objects</h3>
<p>Below are some of the methods that provide access to internal D3D11 objects:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Function   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ID3D11Buffer* IBufferD3D11::GetD3D11Buffer</code>   </td><td class="markdownTableBodyNone">returns a pointer to the <code>ID3D11Buffer</code> interface of the internal Direct3D11 buffer object    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ID3D11Resource* ITextureD3D11::GetD3D11Texture</code>   </td><td class="markdownTableBodyNone">returns a pointer to the <code>ID3D11Resource</code> interface of the internal Direct3D11 texture object    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ID3D11View* IBufferViewD3D11()::GetD3D11View</code>   </td><td class="markdownTableBodyNone">returns a pointer to the <code>ID3D11View</code> interface of the internal Direct3D11 object representing the buffer view    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ID3D11View* ITextureViewD3D11::GetD3D11View</code>   </td><td class="markdownTableBodyNone">returns a pointer to the <code>ID3D11View</code> interface of the internal Direct3D11 object representing the texture view    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ID3D11Device* IRenderDeviceD3D11::GetD3D11Device</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native Direct3D11 device object    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ID3D11DeviceContext* IDeviceContextD3D11::GetD3D11DeviceContext</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11DeviceContext</code> object    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ID3D11BlendState* IPipelineStateD3D11::GetD3D11BlendState</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11BlendState</code> object    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ID3D11RasterizerState* IPipelineStateD3D11::GetD3D11RasterizerState</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11RasterizerState</code> object    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ID3D11DepthStencilState* IPipelineStateD3D11::GetD3D11DepthStencilState</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11DepthStencilState</code> object    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ID3D11InputLayout* IPipelineStateD3D11::GetD3D11InputLayout</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11InputLayout</code> object    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ID3D11VertexShader* IPipelineStateD3D11::GetD3D11VertexShader</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11VertexShader</code> object    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ID3D11PixelShader* IPipelineStateD3D11::GetD3D11PixelShader</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11PixelShader</code> object    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ID3D11GeometryShader* IPipelineStateD3D11::GetD3D11GeometryShader</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11GeometryShader</code> object    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ID3D11DomainShader* IPipelineStateD3D11::GetD3D11DomainShader</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11DomainShader</code> object    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ID3D11HullShader* IPipelineStateD3D11::GetD3D11HullShader</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11HullShader</code> object    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ID3D11ComputeShader* IPipelineStateD3D11::GetD3D11ComputeShader</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11ComputeShader</code> object    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ID3D11Query* IQueryD3D11::GetD3D11Query</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11Query</code> object    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ID3D11SamplerState* ISamplerD3D11::GetD3D11SamplerState</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11SamplerState</code> object    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ID3D11DeviceChild* IShaderD3D11::GetD3D11Shader</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ID3D11DeviceChild</code> object representing the shader    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ITextureViewD3D11* ISwapChainD3D11::GetCurrentBackBufferRTV</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ITextureViewD3D11</code> object representing current back buffer render target view    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ITextureViewD3D11* ISwapChainD3D11::GetDepthBufferDSV</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>ITextureViewD3D11</code> object representing depth-stencil view    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>IDXGISwapChain* ISwapChainD3D11::GetDXGISwapChain</code>   </td><td class="markdownTableBodyNone">returns a pointer to the native <code>IDXGISwapChain</code> object   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md60"></a>
Creating Diligent Engine Objects from Direct3D11 Resources</h3>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Function   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>IRenderDeviceD3D11::CreateBufferFromD3DResource</code>   </td><td class="markdownTableBodyNone">creates a <a class="el" href="../../d7/dca/namespaceDiligent.html" title="Graphics engine namespace.">Diligent</a> Engine buffer object from the native Direct3D11 buffer    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>IRenderDeviceD3D11::CreateTexture1DFromD3DResource</code>   </td><td class="markdownTableBodyNone">creates a <a class="el" href="../../d7/dca/namespaceDiligent.html" title="Graphics engine namespace.">Diligent</a> Engine texture object from the native Direct3D11 1D texture    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>IRenderDeviceD3D11::CreateTexture2DFromD3DResource</code>   </td><td class="markdownTableBodyNone">creates a <a class="el" href="../../d7/dca/namespaceDiligent.html" title="Graphics engine namespace.">Diligent</a> Engine texture object from the native Direct3D11 2D texture    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>IRenderDeviceD3D11::CreateTexture3DFromD3DResource</code>   </td><td class="markdownTableBodyNone">creates a <a class="el" href="../../d7/dca/namespaceDiligent.html" title="Graphics engine namespace.">Diligent</a> Engine texture object from the native Direct3D11 3D texture   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md61"></a>
Initializing the Engine by Attaching to Existing Direct3D11 Device and Immediate Context</h3>
<p>You can use <code>IEngineFactoryD3D11::AttachToD3D11Device</code> to attach the engine to existing Direct3D11 device and immediate context. For example, the code snippet below shows how <a class="el" href="../../d7/dca/namespaceDiligent.html" title="Graphics engine namespace.">Diligent</a> Engine can be attached to Direct3D11 device returned by Unity:</p>
<div class="fragment"><div class="line">IUnityGraphicsD3D11* d3d = interfaces-&gt;Get&lt;IUnityGraphicsD3D11&gt;();</div>
<div class="line">ID3D11Device* d3d11NativeDevice = d3d-&gt;GetDevice();</div>
<div class="line">CComPtr&lt;ID3D11DeviceContext&gt; d3d11ImmediateContext;</div>
<div class="line">d3d11NativeDevice-&gt;GetImmediateContext(&amp;d3d11ImmediateContext);</div>
<div class="line"><span class="keyword">auto</span>* pFactoryD3d11 = GetEngineFactoryD3D11();</div>
<div class="line">EngineD3D11CreateInfo EngineCI;</div>
<div class="line">pFactoryD3d11-&gt;AttachToD3D11Device(d3d11NativeDevice, d3d11ImmediateContext, EngineCI, &amp;m_Device, &amp;m_Context, 0);</div>
</div><!-- fragment --><hr  />
<p><a href="http://diligentgraphics.com">diligentgraphics.com</a></p>
<p><a href="https://twitter.com/diligentengine"><img src="https://github.com/DiligentGraphics/DiligentCore/raw/master/media/twitter.png" alt="Diligent Engine on Twitter" class="inline"/></a> <a href="https://www.facebook.com/DiligentGraphics/"><img src="https://github.com/DiligentGraphics/DiligentCore/raw/master/media/facebook.png" alt="Diligent Engine on Facebook" class="inline"/></a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <a href="https://diligentgraphics.com">
        <img class="footer" src="https://github.com/DiligentGraphics/DiligentCore/raw/master/media/diligentgraphics-logo.png" width="99" height="32" alt="Diligent Graphics" />
      </a>
    </li>
  </ul>
</div>
</body>
</html>
