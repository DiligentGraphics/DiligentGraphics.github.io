<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Diligent Engine: Graphics Engine OpenGL</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Diligent Engine
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d2/df3/DiligentCore_Graphics_GraphicsEngineOpenGL_readme.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Graphics Engine OpenGL</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Implementation of OpenGL/GLES backend</p>
<h2><a class="anchor" id="autotoc_md69"></a>
Interoperability with OpenGL/GLES</h2>
<p><a class="el" href="../../d7/dca/namespaceDiligent.html" title="Graphics engine namespace.">Diligent</a> Engine exposes methods to access internal OpenGL/GLES objects, is able to create diligent engine buffers and textures from existing GL buffer and texture handles, and can be initialized by attaching to existing GL context.</p>
<h3><a class="anchor" id="autotoc_md70"></a>
Accessing Native GL objects</h3>
<p>Below are some of the methods that provide access to internal GL object handles:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Function   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>IBufferGL::GetGLBufferHandle</code>   </td><td class="markdownTableBodyNone">returns OpenGL buffer handle    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>IDeviceContextGL::UpdateCurrentGLContext</code>   </td><td class="markdownTableBodyNone">attaches to the active GL context in the thread. Returns false if there is no active context, and true otherwise. If an application uses multiple GL contexts, this method must be called before any other command to let the engine update the active context.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>ITextureGL::GetGLTextureHandle</code>   </td><td class="markdownTableBodyNone">returns OpenGL texture handle    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ITextureGL::GetBindTarget</code>   </td><td class="markdownTableBodyNone">returns OpenGL texture bind target    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><code>IQueryGL::GetGlQueryHandle</code>   </td><td class="markdownTableBodyNone">returns OpenGL query handle    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><code>ISwapChainGL::GetDefaultFBO</code>   </td><td class="markdownTableBodyNone">returns default framebuffer handle   </td></tr>
</table>
<h3><a class="anchor" id="autotoc_md71"></a>
Creating Diligent Engine Objects from OpenGL Handles</h3>
<ul>
<li><code>void IRenderDeviceGL::CreateTextureFromGLHandle(Uint32 GLHandle, Uint32 GLBindTarget, const TextureDesc&amp; TexDesc, RESOURCE_STATE InitialState, ITexture** ppTexture)</code> - creates a diligent engine texture from OpenGL handle. The method takes OpenGL handle <code>GLHandle</code>, texture bind target <code>GLBindTarget</code> (when null value is provided, the engine automatically selects the target that corresponds to the texture type, e.g. GL_TEXTURE_2D for a 2D texture), texture description <code>TexDesc</code>, as well as initial state <code>InitialState</code>, and writes the pointer to the created texture object at the memory address pointed to by <code>ppTexture</code>. The engine can automatically set texture width, height, depth, mip levels count, and format, but the remaining field of <code>TexDesc</code> structure must be populated by the application. Note that diligent engine texture object does not take ownership of the GL resource, and the application must not destroy it while it is in use by the engine.</li>
<li><code>void IRenderDeviceGL::CreateBufferFromGLHandle(Uint32 GLHandle, const BufferDesc&amp; BuffDesc, RESOURCE_STATE InitialState, IBuffer** ppBuffer)</code> - creates a diligent engine buffer from OpenGL handle. The method takes OpenGL handle <code>GLHandle</code>, buffer description <code>BuffDesc</code>, and writes the pointer to the created buffer object at the memory address pointed to by <code>ppBuffer</code>. The engine can automatically set the buffer size, but the rest of the fields need to be set by the client. Note that diligent engine buffer object does not take ownership of the GL resource, and the application must not destroy it while it is in use by the engine.</li>
</ul>
<h3><a class="anchor" id="autotoc_md72"></a>
Initializing the Engine by Attaching to Existing GL Context</h3>
<p>The code snippet below shows how diligent engine can be attached to existing GL context that is active in the current thread.</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span>* pFactoryGL = GetEngineFactoryOpenGL();</div>
<div class="line">EngineCreationAttribs EngineCI;</div>
<div class="line">pFactoryGL-&gt;AttachToActiveGLContext(EngineCI, &amp;m_Device, &amp;m_Context);</div>
</div><!-- fragment --><hr  />
<p><a href="http://diligentgraphics.com">diligentgraphics.com</a></p>
<p><a href="https://twitter.com/diligentengine"><img src="https://github.com/DiligentGraphics/DiligentCore/raw/master/media/twitter.png" alt="Diligent Engine on Twitter" class="inline"/></a> <a href="https://www.facebook.com/DiligentGraphics/"><img src="https://github.com/DiligentGraphics/DiligentCore/raw/master/media/facebook.png" alt="Diligent Engine on Facebook" class="inline"/></a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.13.2-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">
      <a href="https://diligentgraphics.com">
        <img class="footer" src="https://github.com/DiligentGraphics/DiligentCore/raw/master/media/diligentgraphics-logo.png" width="99" height="32" alt="Diligent Graphics" />
      </a>
    </li>
  </ul>
</div>
</body>
</html>
